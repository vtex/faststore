import { Meta, Canvas, Story, ArgsTable } from '@storybook/addon-docs'
import { rest } from 'msw'

import {
  TokenTable,
  TokenRow,
  TokenDivider,
} from 'src/../.storybook/components'
import { productGridItems, searchTerms } from 'src/../.storybook/mocks'
import { msw, products } from '../searchMock'

import SearchInput from './SearchInput'

<Meta component={SearchInput} title="Features/Search/SearchInput" />

export const Template = (props) => (
  <div
    style={{
      maxWidth: '600px',
      height: '400px',
      margin: '0 auto',
      padding: '0 16px',
      background: 'white',
    }}
  >
    <SearchInput {...props} />
  </div>
)

<header>

# Search Input

Responsible to receive, search and display suggestions.

</header>

## Usage

`import SearchInput from 'src/components/search/SearchInput'`

<Canvas>
  <Story
    name="default"
    parameters={{
      backgrounds: { default: 'dark' },
      msw,
    }}
    args={{
      products,
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

<ArgsTable story="default" />

<TokenTable>
  <TokenRow
    token="--fs-search-input-padding"
    value="var(--fs-spacing-1) var(--fs-spacing-7) var(--fs-spacing-1) var(--fs-spacing-2)"
  />
  <TokenRow
    isColor
    token="--fs-search-input-bkg-color"
    value="var(--fs-color-body-bkg)"
  />
  <TokenRow
    token="--fs-search-input-box-shadow"
    value="0 0 0 var(--fs-border-width) var(--fs-border-color-active)"
  />
  <TokenDivider />
  <TokenRow
    token="--fs-search-input-height-mobile"
    value="var(--fs-control-tap-size)"
  />
  <TokenRow
    token="--fs-search-input-height-desktop"
    value="var(--fs-spacing-6)"
  />
  <TokenDivider />
  <TokenRow
    token="--fs-search-input-border-width"
    value="var(--fs-border-width)"
  />
  <TokenRow
    token="--fs-search-input-border-radius"
    value="var(--fs-border-radius)"
  />
  <TokenRow
    isColor
    token="--fs-search-input-border-color"
    value="var(--fs-border-color)"
  />
  <TokenRow
    isColor
    token="--fs-search-input-border-color-hover"
    value="var(--fs-border-color-active)"
  />
  <TokenDivider />
  <TokenRow
    token="--fs-search-input-transition-timing"
    value="var(--fs-transition-timing)"
  />
  <TokenRow token="--fs-search-input-transition-function" value="ease" />
</TokenTable>

### Button

<TokenTable>
  <TokenRow
    token="--fs-search-input-button-width"
    value="var(--fs-spacing-7)"
  />
  <TokenRow
    token="--fs-search-input-button-min-height"
    value="var(--fs-search-input-height-desktop)"
  />
  <TokenRow
    isColor
    token="--fs-search-input-button-bkg-color"
    value="transparent"
  />
  <TokenDivider />
  <TokenRow
    token="--fs-search-input-button-height-mobile"
    value="var(--fs-search-input-button-width)"
  />
  <TokenRow
    token="--fs-search-input-button-height-desktop"
    value="var(--fs-search-input-height-desktop)"
  />
</TokenTable>

### Icon

<TokenTable>
  <TokenRow token="--fs-search-input-icon-width" value="var(--fs-spacing-4)" />
  <TokenRow
    token="--fs-search-input-icon-height"
    value="var(--fs-search-input-icon-width)"
  />
  <TokenRow
    isColor
    token="--fs-search-input-icon-color"
    value="var(--fs-color-neutral-7)"
  />
</TokenTable>

### Dropdown

<TokenTable>
  <TokenRow
    token="--fs-search-input-dropdown-padding"
    value="var(--fs-spacing-3)"
  />
  <TokenRow
    isColor
    token="--fs-search-input-dropdown-bkg-color"
    value="var(--fs-color-neutral-0)"
  />
  <TokenRow
    token="--fs-search-input-dropdown-box-shadow"
    value="var(--fs-shadow)"
  />
  <TokenDivider />
  <TokenRow token="--fs-search-input-dropdown-width-mobile" value="100vw" />
  <TokenRow token="--fs-search-input-dropdown-width-desktop" value="100%" />
  <TokenDivider />
  <TokenRow
    token="--fs-search-input-dropdown-border-width"
    value="var(--fs-border-width)"
  />
  <TokenRow
    isColor
    token="--fs-search-input-dropdown-border-color"
    value="var(--fs-border-color)"
  />
  <TokenRow
    token="--fs-search-input-dropdown-border-radius"
    value="0 0 var(--fs-border-radius) var(--fs-border-radius)"
  />
  <TokenDivider />
  <TokenRow
    token="--fs-search-input-dropdown-position-left-mobile"
    value="calc(-1 * var(--fs-control-tap-size))"
  />
  <TokenRow
    token="--fs-search-input-dropdown-position-left-tablet"
    value="calc(var(--fs-search-input-dropdown-position-left-mobile) - var(--fs-spacing-1))"
  />
  <TokenRow
    token="--fs-search-input-dropdown-position-top-tablet"
    value="calc(var(--fs-control-tap-size) + var(--fs-spacing-2) + var(--fs-border-width))"
  />
  <TokenRow
    token="--fs-search-input-dropdown-position-top-mobile"
    value="calc(var(--fs-search-input-dropdown-position-top-tablet) + 1px)"
  />
  <TokenRow
    token="--fs-search-input-dropdown-position-top-desktop"
    value="var(--fs-search-input-height-desktop)"
  />
</TokenTable>

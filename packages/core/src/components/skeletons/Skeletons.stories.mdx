import { Meta, Canvas, Story, ArgsTable } from '@storybook/addon-docs'

import { TokenTable, TokenRow } from 'src/../.storybook/components'
import { SectionList, SectionItem } from 'src/../.storybook/components'

import Skeleton from './Skeleton'
import FilterSkeleton from './FilterSkeleton'
import ProductCardSkeleton from './ProductCardSkeleton'

import Icon from 'src/components/ui/Icon'
import ButtonLink from 'src/components/ui/Icon'

export const TemplateSkeleton = ({ ...args }) => <Skeleton {...args} />

<Meta
  component={Skeleton}
  title="Features/Skeletons/Overview"
  argTypes={{
    loading: {
      control: 'boolean',
      table: { type: 'boolean', summary: true },
    },
    shimmer: {
      control: 'boolean',
      table: { type: 'boolean', summary: false },
    },
  }}
/>

<header>

# Skeletons

This feature improves the store's experience and perceived performance through loading placeholders.

</header>

## Overview

`Skeletons` are like an element's or section's wireframe. It's a placeholder
that simulates the layout of these elements/sections while data is being loaded.

Instead of showing a blank page, displaying `Skeletons` while loading content makes the user feel like the store is more responsive and faster.

Also by using `Skeletons` the store will be less likely to experience [Cumulative Layout Shilf (or CLS)](https://web.dev/i18n/en/cls/).

---

## Usage

The `Skeleton` component is used as placeholder for the primitive elements (e.g. texts, buttons), being part of the related components.

`import Skeleton from 'src/components/skeletons/Skeleton'`

<Canvas className="canvas-skeletons">
  <Story name="Usage" args={{ loading: true, shimmer: false, variant: 'text' }}>
    {TemplateSkeleton.bind({})}
  </Story>
</Canvas>

<ArgsTable story="Usage" />

<TokenTable>
  <TokenRow
    token="--fs-skeleton-bkg-color"
    value="var(--fs-color-disabled-bkg)"
    isColor
  />
  <TokenRow
    token="--fs-skeleton-border-radius"
    value="var(--fs-border-radius)"
  />
</TokenTable>

---

## Variants

### Text

<Canvas className="canvas-skeletons">
  <Story name="Text" args={{ loading: true, shimmer: true, variant: 'text' }}>
    {TemplateSkeleton.bind({})}
  </Story>
</Canvas>

<TokenTable>
  <TokenRow token="--fs-skeleton-text-width" value="100%" />
  <TokenRow token="--fs-skeleton-text-height" value="var(--fs-spacing-4)" />
</TokenTable>

### Button

<Canvas className="canvas-skeletons">
  <Story
    name="Button"
    args={{ loading: true, shimmer: true, variant: 'button' }}
  >
    {TemplateSkeleton.bind({})}
  </Story>
</Canvas>

<TokenTable>
  <TokenRow token="--fs-skeleton-button-width" value="var(--fs-spacing-13)" />
  <TokenRow token="--fs-skeleton-button-height" value="var(--fs-spacing-5)" />
  <TokenRow token="--fs-skeleton-button-gap" value="var(--fs-spacing-2)" />
  <TokenRow
    token="--fs-skeleton-button-border-radius"
    value="var(--fs-skeleton-border-radius)"
  />
</TokenTable>

### Image

<Canvas className="canvas-skeletons">
  <Story name="Image" args={{ loading: true, shimmer: true, variant: 'image' }}>
    {TemplateSkeleton.bind({})}
  </Story>
</Canvas>

<TokenTable>
  <TokenRow token="--fs-skeleton-image-height-mobile" value="45vw" />
  <TokenRow token="--fs-skeleton-image-height-desktop" value="12.188rem" />
  <TokenRow
    token="--fs-skeleton-image-border-radius"
    value="var(--fs-skeleton-border-radius)"
  />
</TokenTable>

### Badge

<Canvas className="canvas-skeletons">
  <Story name="Badge" args={{ loading: true, shimmer: true, variant: 'badge' }}>
    {TemplateSkeleton.bind({})}
  </Story>
</Canvas>

<TokenTable>
  <TokenRow token="--fs-skeleton-badge-height-mobile" value="45%" />
  <TokenRow
    token="--fs-skeleton-badge-height-desktop"
    value="var(--fs-spacing-5)"
  />
  <TokenRow
    token="--fs-skeleton-badge-border-radius"
    value="var(--fs-skeleton-border-radius)"
  />
</TokenTable>

---

## Components

<SectionList grid="grid" classes="sbdocs-skeletons">
  <SectionItem
    title="Filter Skeleton"
    actionPath="../?path=/docs/features-skeletons-filterskeleton--usage"
    description={
      <>
        Loading placeholder for the <code>Filter</code> used in PLP.
      </>
    }
  >
    <FilterSkeleton loading />
  </SectionItem>
  <SectionItem
    title="Product Card Skeleton"
    actionPath="../?path=/docs/features-skeletons-productcardskeleton--usage"
    description={
      <>
        Loading placeholder for the <code>ProductCard</code> used in several
        sections of the store.
      </>
    }
  >
    <ProductCardSkeleton variant="wide" displayButton />
  </SectionItem>
</SectionList>

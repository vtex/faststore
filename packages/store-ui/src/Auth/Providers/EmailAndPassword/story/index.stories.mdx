import Button from '../Button'
import EmailForm from '../EmailForm'
import SignInForm from '../SignInForm'
import SignUpForm from '../SignUpForm'
import { Box, Flex } from 'theme-ui'

import { Meta, Story, Preview, Canvas } from '@storybook/addon-docs/blocks'
import { withKnobs, text } from '@storybook/addon-knobs'
import { action } from '@storybook/addon-actions'

<Meta title="EmailAndPassword" />

# EmailAndPassword

Some description.

\* Default values

## Usage

| Props   | Values                  | Description                  |
| ------- | ----------------------- | ---------------------------- |
| onClick | <code>() => void</code> | Button click callback        |
| variant | <code>string</code>     | For ThemeUI styling purposes |

<Canvas>
  <Story name="Button">
    <Flex variant="login.page.container">
      <Box variant="login.page.group">
        <Button
          variant="login.page"
          onClick={action('Toggle EmailAndPassword button')}
        />
      </Box>
    </Flex>
  </Story>
</Canvas>

| Props    | Values                          | Description                                    |
| -------- | ------------------------------- | ---------------------------------------------- |
| state    | <code>{state: State\*}</code>   | Current form state. (Ex.: invalid, error, etc) |
| variant  | <code>string</code>             | For ThemeUI styling purposes                   |
| onSubmit | <code>([string]) => void</code> | Input submit callback                          |

\*State: <code>"emailForm"</code> \| <code>"emailForm.invalidEmailInput"</code> \| <code>"emailForm.error"</code>

<Canvas>
  <Story name="EmailForm">
    <Flex variant="login.page.container">
      <Box variant="login.page.group">
        <EmailForm
          state={{ state: 'emailForm' }}
          variant="emailAndPassword.page"
          onBack={() => console.log('EmailForm back')}
          onSubmit={async (email) => {
            console.log('EmailForm Submit data:', {
              email,
            })
          }}
        />
      </Box>
    </Flex>
  </Story>
</Canvas>

<Canvas>
  <Story name="SignInForm">
    <Flex variant="login.page.container">
      <Box variant="login.page.group">
        <SignInForm
          state={{ state: 'signInForm' }}
          variant="emailAndPassword.page"
          onSubmit={action('SignInForm submit')}
          onForgotPassword={action('SignInForm forgot password')}
          onSignUp={action('SignInForm sign up')}
        />
      </Box>
    </Flex>
  </Story>
</Canvas>

<Canvas>
  <Story name="SignUpForm">
    <Flex variant="login.page.container">
      <Box variant="login.page.group">
        <SignUpForm
          state={{ state: 'signUpForm' }}
          variant="emailAndPassword.page"
          onBack={() => console.log('SignUpForm back')}
          onSubmit={action('SignUnForm submit')}
        />
      </Box>
    </Flex>
  </Story>
</Canvas>

import Button from '../Button'
import EmailForm from '../EmailForm'
import AccessCodeForm from '../AccessCodeForm'
import { Box, Flex } from 'theme-ui'

import { Meta, Story, Preview, Canvas } from '@storybook/addon-docs/blocks'
import { withKnobs, text } from '@storybook/addon-knobs'
import { action } from '@storybook/addon-actions'

<Meta title="EmailVerification" />

# EmailVerification

Those components are used to send a access code verification to an email.

## Button description

This button is used to toggle to the EmailVerification form when clicked.

| Props   | Values                  | Description                  |
| ------- | ----------------------- | ---------------------------- |
| onClick | <code>() => void</code> | Button click callback        |
| variant | <code>string</code>     | For ThemeUI styling purposes |

<Canvas>
  <Story name="Button">
    <Flex variant="login.page.container">
      <Box variant="login.page.group">
        <Button variant="login.page" onClick={action('Toggle button')} />
      </Box>
    </Flex>
  </Story>
</Canvas>

## EmailForm description

Used to type the email you want the access code to be sent to.

| Props    | Values                          | Description                                    |
| -------- | ------------------------------- | ---------------------------------------------- |
| state    | <code>{state: State\*}</code>   | Current form state. (Ex.: invalid, error, etc) |
| variant  | <code>string</code>             | For ThemeUI styling purposes                   |
| onSubmit | <code>([string]) => void</code> | Input submit callback                          |

\*State: <code>"emailForm"</code> \| <code>"emailForm.invalidEmailInput"</code> \| <code>"emailForm.authError"</code>

<Canvas>
  <Story name="EmailForm">
    <Flex variant="login.page.container">
      <Box variant="login.page.group">
        <EmailForm
          state={{
            state: text('EmailForm state', 'emailForm'),
          }}
          variant="emailVerification.page"
          onSubmit={action('EmailVerification EmailForm submit')}
        />
      </Box>
    </Flex>
  </Story>
</Canvas>

## AccessCodeForm description

Used to type the access code that you received in your email.

| Props    | Values                          | Description                                    |
| -------- | ------------------------------- | ---------------------------------------------- |
| state    | <code>{state: State\*}</code>   | Current form state. (Ex.: invalid, error, etc) |
| variant  | <code>string</code>             | For ThemeUI styling purposes                   |
| onBack   | <code>() => void</code>         | Input "go back" button callback                |
| onSubmit | <code>([string]) => void</code> | Input submit callback                          |

\*State: <code>"accessCodeForm"</code> \| <code>"accessCodeForm.invalidAccessCode"</code> \| <code>"accessCodeForm.badAccessCode"</code> \| <code>"accessCodeForm.authError"</code>

<Canvas>
  <Story name="AccessCodeForm">
    <Flex variant="login.page.container">
      <Box variant="login.page.group">
        <AccessCodeForm
          state={{
            state: text('AccessCodeForm state', 'accessCodeForm'),
          }}
          variant="emailVerification.page"
          onBack={action('AccessCodeForm go back')}
          onSubmit={action('AccessCodeForm submit')}
        />
      </Box>
    </Flex>
  </Story>
</Canvas>

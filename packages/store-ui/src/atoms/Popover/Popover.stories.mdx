import { Meta, Story, Preview, ArgsTable } from '@storybook/addon-docs/blocks'
import { useRef, useState } from 'react'
import Popover from '.'
import Input from '../Input'

<Meta
  title="Atoms/Popover"
  parameters={{
    docs: {
      source: {
        type: 'code',
      },
    }
  }}
/>

# Preview

<Preview>
  <Story
    name="Popover"
    args={{
      children: 'Whoa! Look at me!',
    }}
  >
    {(args) => {
      const ref = useRef(null)
      const [value, setValue] = useState('')
      return (
        <div>
          <label>
            <span>Type for a special message</span>
            <Input
              type="text"
              onChange={(event) => setValue(event.target.value)}
              ref={ref}
            />
          </label>
          {value.length > 0 && <Popover targetRef={ref}>{children}</Popover>}
        </div>
      )
    }}
  </Story>
</Preview>

# Props

<ArgsTable of={Popover} />

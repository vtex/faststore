import { Meta, Story, Preview, Canvas } from '@storybook/addon-docs/blocks'
import { withKnobs, boolean, number, text } from '@storybook/addon-knobs'
import { action } from '@storybook/addon-actions'
import Checkbox from '../AccordionItemCheckbox'
import Slider from '../AccordionItemSlider'

<Meta title="SearchFilters" />

# Filters

Search filters are used to apply product filters in our Search Page (where the products are shown).

# Checkbox Filter

Checkbox filters are for applying an specific filter key as true or false.

## Checkbox usage

| Props   | Values                          | Description                      |
| ------- | ------------------------------- | -------------------------------- |
| onClick | <code>(item) => void</code>     | Checkbox click callback          |
| item    | <code><i>Model below</i></code> | Checkbox filter item information |
| variant | <code>string</code>             | For ThemeUI styling purposes     |

## Checkbox item prop model

| Props    | Values                                  |
| -------- | --------------------------------------- |
| key      | <code>string</code>                     |
| name     | <code>string</code>                     |
| value    | <code>string</code>                     |
| range    | <code>{from: number, to: number}</code> |
| quantity | <code>number</code>                     |
| selected | <code>boolean</code>                    |

<Canvas>
  <Story name="Checkbox">
    <Checkbox
      onClick={action('Toggle callback value')}
      item={{
        key: 'filter-one',
        name: text('Filter one', 'Filter one'),
        quantity: number('Filter one product quantity', 2),
        range: null,
        selected: boolean('Filter one selected'),
        value: 'sim',
        values: null,
      }}
      variant="searchFilter.desktop.accordion.collapsible.li"
    />
  </Story>
</Canvas>

# Slider(Price) Filter

Slider filters are for applying an specific number or range of two numbers as key value for filtering.

| Props        | Values                                            | Description                                             |
| ------------ | ------------------------------------------------- | ------------------------------------------------------- |
| onChange     | <code>({min: number, max: number}) => void</code> | Slider change callback                                  |
| range        | <code>{min: number, max: number}</code>           | Slider range min and max values                         |
| cursor       | <code>{min: number, max: number}</code>           | Cursor position in "range" units                        |
| formatValue  | <code>string</code>                               | Function that formats the shown values                  |
| displayPopup | <code>boolean</code>                              | Set if the slider has the popup value or not            |
| handleIcon   | <code>React Component</code>                      | Custom icon for range selectors, instead of circle dots |
| disabled     | <code>boolean</code>                              | Set if the slider is disabled or not                    |
| variant      | <code>string</code>                               | For ThemeUI styling purposes                            |

<Canvas>
  <Story name="Slider">
    <div style={{ width: '300px' }}>
      <Slider
        onChange={action('Change callback values')}
        range={{
          min: 0,
          max: 2000,
        }}
        cursor={{
          left: 0,
          right: 2000,
        }}
        disabled={boolean('Disabled', false)}
        displayPopup={boolean('Display pop-up', true)}
        formatValue={(value) => parseFloat(value).toFixed(2)}
      />
    </div>
  </Story>
</Canvas>
